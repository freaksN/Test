<!DOCTYPE html>
<meta charset="utf-8">
<style>

.node {
  cursor: pointer;
}

.node circle {
  fill: #fff;
  stroke: steelblue;
  stroke-width: 1.5px;
}

.node text {
  font: 12px sans-serif;
  text-transform: capitalize;
  fill: #F2F2F2;
}

.link {
  fill: none;
  stroke: #ccc;
  stroke-width: 1.5px;
}

</style>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.0.1/d3.v3.js"></script>
<script>

var margin = {top: 20, right: 120, bottom: 20, left: 120},
    width = 960 - margin.right - margin.left,
    height = 800 - margin.top - margin.bottom;

var i = 0,
    duration = 750,
    root;

var tree = d3.layout.tree()
    .size([height, width]);

var diagonal = d3.svg.diagonal()
    .projection(function(d) { return [d.y, d.x]; });

var svg = d3.select("body").append("svg")
    .attr("width", width + margin.right + margin.left)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

var flare =  {
 "name": "LMDB",
 "children": [
  {
   "name": "Directors",
   "children": [
		  {name: 'William', children:[{
			name: 'William Malone'},
		  {name: 'William K. Howard'},
		  {name: 'William A. Seiter'},
		  {name: 'William S. Hart'},
		  {name: 'William Dickson'},
		  
		  ]},
          {name: 'Vincent', children:[{
			name: 'Vincent Woodcock'},
			{name: 'Vincent Mceveety'},
			{name: 'Vincent Kok'},
			{name: 'Vincent J. Donehue'},
		  ]},
		  
		  {name: 'Steve', children:[{
			name: 'Steve Gordon'},
			{name: 'Steve Beck'},
			{name: 'Steve Purcell'},
			{name: 'Steve Sekely'},
			{name: 'Steve Wilson'},
			{name: 'Steve James'},
		  ]},
		  
		  {name: 'Ronald', children:[{
			name: 'Ronald Jacson'},
			{name: 'Ronald F. Maxwell '},
      ]},
      
      {name: 'Nick', children:[{
        name: 'Nick Hurran'},
        {name: 'Nick Hamm'},
        {name: 'Nick Love'},
        {name: 'Nick Doob'},
        {name: 'Nick Willing'},
        {name: 'Nick Hallam'},
        {name: 'Nick McKinney'},
        ]},

        {name: 'Michael', children:[{
          name: 'Michael Cooney'},
          {name: 'Michael Lange'},
          {name: 'Michael Davis'},
          {name: 'Michael Kang'},
          {name: 'Michael D. Fox'},
          {name: 'Michael Ferguson'},
          {name: 'Michael Nankin'},
        ]},
        {name: 'Larry', children:[{
          name: 'Larry Peerce'},
          {name: 'Larry Morey'},
          {name: 'Larry Jacobs'},
          {name: 'Larry Shaw'},
          {name: 'Larry Leker'},
          {name: 'Larry Latham'},
          
        ]},
        {name: 'Karl', children:[{
          name: 'Karl Koch'},
          {name: 'Karl Geurs'},
         
        ]},
        {name: 'Jack', children:[{
          name: 'Jack Curtis'},
          {name: 'Jack Garfein'},
          {name: 'Jack Conway'},
          {name: 'Jack Hively'},
          {name: 'Jack Smith'},
          {name: 'Jack Aldworth'},
         
        ]},
		 {name: 'Harry', children:[{
      name: 'Harry Watt'},
      {name: 'Karl W. Gerstand'},
      {name: 'Karl W. Basil'},
      {name: 'Karl F. Millarde'},
     
    ]},
    {name: 'George', children:[{
      name: 'George'},
      {name: 'George C. Stoney'},
      {name: 'George Armitage'},
      {name: 'George Jacson'},
      {name: 'George Manasse'},
      {name: 'George Miller'}, 
    ]},
    {name: 'Frank', children:[{
      name: 'Frank Marshall'},
      {name: 'Frank Nissen'},
      {name: 'Frank D. Gilroy'},
      {name: 'Frank R. Pierson'},
    ]},
    {name: 'David', children:[{
      name: 'David S. Ward'},
      {name: 'David Dawkins'},
      {name: 'David T. Hardy'},
      {name: 'David Siegel'},
      {name: 'David Molina'},
      {name: 'David Flores'},
      {name: 'Frank D. Gilroy'},
    ]},

   ]
    
  },
  {
   "name": "Film Crew",
   "children": [{
   name: "Sound", children: [{
    name: "Sound Editor"},
   {name: "Sound Mixer"},
   {name: "Sound Utility"},
   {name: "Sound Recordist"},
   {name: "Sound Designer"},
   ]
   },
    {name: "Digital", children: [{
      name: "Digital Compositor"},
      {name: "Digital Intermediate Colorist"},
      {name: 'Digital Fixes and Clean-up'},
      {name: 'Digital Effects Artist'},
      {name: 'Digital Artist'},
      ]},
	  {name: "Visual", children: [{
        name: "Visual Effects"},
        {name: "Visual Effects Coordinator"},
        {name: "Visual Effects Artist "},
        {name: "Visual Effects Producer"},
        {name: "Visual Effects Animator"},
        {name: "Visual Production Manager"},
        {name: "Visual Development Artist"},
        
        ]},
   
   
   
   
   ],
  
  },
  {
        name: 'Genres',
        children: [
          {
          name: 'Sports', children: [{
		  name: "Racing"},
		  {name: "Baseball"},
		  {name: "Breakdance"},
		  {name: "Boxing"},
		  {name: "Surfing"},
		  ]},
          {name: 'Drama'},
          {name: 'Tragedy'},
          {name: 'Action'},
          {name: 'Horror'},
          {name: 'World War II'},
          {name: 'Transgender'},
          {name: 'Time travel'},
          {name: 'Supernatural', children:[{
		  name: "Superhero"},
		  {name: "Monster"}, 
		  {name: "Science fiction"},
		  {name: 'Sword and sorcery'},]},
          {name: 'Martial Arts', children: [{
		  name: "Samurai cinema"},
		  {name: "Ninja movie"},
		  {name: "Kung-Fu"},
		  {name: "Karate"}]},
          {name: 'Postmodernist film'},
		   {name: 'Adventure', children: [{
		   },
		   {name: "Mystery", children: [{
		   name: "Murder-Mystery"},
		   {name: "Detective"},
		   {name: "Magic realism"}]},
		   {}]},
          {name: 'Plague'},
          {name: 'Neo-noir'},
          {name: 'Nature'},
          {name: 'Murder-mystery'},
		  {name: 'History'},
        ]
      },
  {
        name: 'Film Locations',
        children: [
          { name: 'Cologne, Germany'},
          { name: 'Prague Castle'},
          { name: 'Hollywood Boulevard'},
          { name: 'Japantown'},
          { name: 'Oxbow Regional Park'},
          { name: 'London Heathrow Airport '},
          { name: 'India'},
          { name: 'Moscow'},
          { name: 'Times Square '},
          { name: 'Hamburg, Germany'},
        ]
      },
  {
  name: 'Producer',
  children: [
    { name: 'Jack Baran'},
    { name: 'Prague Castle'},
    { name: 'Cleve Landsberg'},
    { name: 'William Dozier'},
    { name: 'David Nicksay'},
    { name: 'Brian Hong'},
    { name: 'Neda Armian'},
    { name: 'Dorothy Berwn '},
    { name: 'Richard Hashimoto'},
    { name: 'Lauand Omar '},
    { name: 'Henri Baum'},
    { name: 'Ron Rotholz'},
    { name: 'Hammer & Tongs'},
    { name: 'Stephen Yake'},
    { name: 'A.M. Rathnam'},
    { name: 'Jeff Kwatinetz'},
    { name: 'Edo Zuckerman'},
    { name: 'Steve Butterworth'},
    { name: 'Frans van Gestel'},
  ]
},
  {
  name: 'Film Theorist',
  children: [
    { name: 'Hans Richter'},
    { name: 'Carol J. Clover'},
    { name: 'Kaja Silverman'},
    { name: 'Andrew Sarris '},
    { name: 'Stan Brakhage'},
    { name: 'Christian Metz'},
    { name: 'Jacques Rivette'},
    { name: 'Laura Mulvey'},
    { name: 'Robert McKee'},
    { name: 'William Moritz'},
    { name: 'Michael Betancourt'},
    { name: 'Peter Wollen'},
   
  ]
},
  {
  name: 'Costume Designer',
  children: [
    { name: 'Ann', children:[{
      name: "Ann Roth"
    },
    {name: 'Annie', children:[{
      name: "Annie Bloom"
    },
    {name: "Annie Signh"},
    {name: "Annie Yun"},
  ]},
    {name: 'Anna', children:[{
      name: "Anna Roth"
    },
    {name: "Anna B. Sheppard"}]}
  
  ]},
  { name: 'Carol', children:[{
      name: "Carol Brolanski"
    },
    {name: 'Carol Oditz'},
    {name: 'Carol Ramsey'},
    {name: 'Carole', children:[{
      name: "Carole K. Millar"
    },
    
  ]},
    {name: 'Caroline', children:[{
      name: "Caroline Duncan "
    },
    {name: "Caroline Harris "},
	{name: 'Caroline de Vivaise'},
	]}
    
  ]},
    { name: 'Catherine', children: [{
      name: "Catherine Adair "
    },
    { name: 'Catherine George'},
    { name: 'Catherine Leterrier'},
    { name: 'Catherine Marie'},
    { name: 'Catherine Martin'},

  ]},
  
  { name: 'Fran', children:[{
      name: "Francesca Vecchi"
    },
    {name: 'Francine Jamison-Tanchuck'},
    {name: 'Frank', children:[{
      name: "Frank Fleming"
    },
	{name: "Frank L. Fleming"},
    
  ]},
  {name: "Frauke Firl"},
    
    
  ]
},

 { name: 'Jane', children:[{
      name: "Jane Anderson"
    },
    {name: 'Jane Holland '},
    {name: 'Jane Petrie'},
    {name: 'Jane Poole  '},
   
    {name: 'Janine Isreal'},
    
    
  ]
},

{ name: 'Michael', children:[{
      name: "Michael Anzalone"
    },
    {name: 'Michael Bush'},
    {name: 'Michael Clancy'},
    {name: 'Michael Dennison'},
    {name: 'Michael Kaplan '},
    {name: 'Michael T. Boyd'},
    {name: 'Mike', children: [{
      name: "Mike Jittlov"},
      {name: "Mike O'Neill"}
    ]},
    {name: "Mo", children: [{
      name: "Molly Maginnis"},
    {name: "Molly Rogers"},
    {name: "Moidele Bickel"},
    {name: "Mona May"},
    {name: "Monika Jacobs"},
    ]},
    {name: "Ma", children: [
      {name: "Marcella Robertson"},
      {name: "Maren Reese"},
      {name: "Margot Wilson"},
      {name: "Maria Livingstone"},
      {name: "Marian Ceo"},
      {name: "Mark Bridges"},
      {name: "Mary E. Vogt"},
    ]},
    
    
  ]
},
  
]
},
 
 
{
  name: 'Film Distributor',
  children: [
    { name: 'Warner', children:[{
      name: "Warner Bros. Pictures"
    },
    {name: 'Warner Bros. Home Video'},
    {name: 'Warner Independent Pictures'},
    {name: 'Warner Bros. Entertainment'},
    {name: 'Warner Bros.'}, 
  ]
},
{name: "Milestone Films"},

{name: "HBO", children: [{
  name: "HBO Films"}
]},
{name: "Walt Disney", children: [{
  name: "Walt Disney Home Entertainment"},
  {name: "Walt Disney Pictures"},
  {name: "Disney Channel"},
]},
{name: "Miramax Films "},
{name: "Lions Gate", children: [{
  name: "Lions Gate Entertainment"},
  {name: "Lionsgate Home Entertainment"},
  {name: "Lionsgate Studios"},
]},

{name: "New Line Cinema"},
{name: "Sony", children: [{
  name: "Sony Pictures Classics"},
  {name: "Sony Pictures Entertainment"},
  {name: "Sony Pictures Releasing "}
]},

 ] },
 
 ]
};

  root = flare;
  root.x0 = height / 2;
  root.y0 = 0;

  function collapse(d) {
    if (d.children) {
      d._children = d.children;
      d._children.forEach(collapse);
      d.children = null;
    }
  }

  root.children.forEach(collapse);
  update(root);

d3.select(self.frameElement).style("height", "800px");

function update(source) {

  // Compute the new tree layout.
  var nodes = tree.nodes(root).reverse(),
      links = tree.links(nodes);

  // Normalize for fixed-depth.
  nodes.forEach(function(d) { d.y = d.depth * 180; });

  // Update the nodes�
  var node = svg.selectAll("g.node")
      .data(nodes, function(d) { return d.id || (d.id = ++i); });

  // Enter any new nodes at the parent's previous position.
  var nodeEnter = node.enter().append("g")
      .attr("class", "node")
      .attr("transform", function(d) { return "translate(" + source.y0 + "," + source.x0 + ")"; })
      .on("click", click);

  nodeEnter.append("circle")
      .attr("r", 1e-6)
      .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });

  nodeEnter.append("text")
      .attr("x", function(d) { return d.children || d._children ? -10 : 10; })
      .attr("dy", ".35em")
      .attr("text-anchor", function(d) { return d.children || d._children ? "end" : "start"; })
      .text(function(d) { return d.name; })
      .style("fill-opacity", 1e-6);

  // Transition nodes to their new position.
  var nodeUpdate = node.transition()
      .duration(duration)
      .attr("transform", function(d) { return "translate(" + d.y + "," + d.x + ")"; });

  nodeUpdate.select("circle")
      .attr("r", 4.5)
      .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });

  nodeUpdate.select("text")
      .style("fill-opacity", 1);

  // Transition exiting nodes to the parent's new position.
  var nodeExit = node.exit().transition()
      .duration(duration)
      .attr("transform", function(d) { return "translate(" + source.y + "," + source.x + ")"; })
      .remove();

  nodeExit.select("circle")
      .attr("r", 1e-6);

  nodeExit.select("text")
      .style("fill-opacity", 1e-6);

  // Update the links�
  var link = svg.selectAll("path.link")
      .data(links, function(d) { return d.target.id; });

  // Enter any new links at the parent's previous position.
  link.enter().insert("path", "g")
      .attr("class", "link")
      .attr("d", function(d) {
        var o = {x: source.x0, y: source.y0};
        return diagonal({source: o, target: o});
      });

  // Transition links to their new position.
  link.transition()
      .duration(duration)
      .attr("d", diagonal);

  // Transition exiting nodes to the parent's new position.
  link.exit().transition()
      .duration(duration)
      .attr("d", function(d) {
        var o = {x: source.x, y: source.y};
        return diagonal({source: o, target: o});
      })
      .remove();

  // Stash the old positions for transition.
  nodes.forEach(function(d) {
    d.x0 = d.x;
    d.y0 = d.y;
  });
}

// Toggle children on click.
function click(d) {
  if (d.children) {
    d._children = d.children;
    d.children = null;
  } else {
    d.children = d._children;
    d._children = null;
  }
  update(d);
}

</script>